<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Sphinx And RST</title>
  <link rel="icon" href="/images/logo/logo.png" >
  <link rel="stylesheet" href="https://brianshen1990.github.io/theme/css/main.css" />
</head>

<body class="home">
  <header class="_header">
    <h1>
      <a href="https://brianshen1990.github.io/">
        KNOWN
      </a>
      <a href="https://github.com/brianshen1990" class="_github">
        GitHub
      </a>
    </h1>
  </header>
  <div class="_content">
    <div class="_left">
<section>
  <article>
    <h1 class="_article_header">
      <a href="https://brianshen1990.github.io/Sphinx_And_RST.html" rel="bookmark"
          title="Permalink to Sphinx And RST">Sphinx And RST
      </a>
    </h1>

    <div class="_article rst-content">
<div class="_articleInfo">
  <table>
    <tr>
      <td>Published:</td>
      <td>Wed 08 November 2017</td>
    </tr>


    <tr>
      <td>By:</td>
      <td>
          <a class="url fn" href="https://brianshen1990.github.io/author/brian-shen.html"></a>Brian Shen</a>
      </td>
    </tr>

  <tr>
    <td>Category:</td>
    <td>Tools</td>
  </tr>

    <tr>
      <td>Tags:</td>
      <td>
          <a href="https://brianshen1990.github.io/tag/sphinx.html">Sphinx</a> 
          <a href="https://brianshen1990.github.io/tag/rst.html">RST</a> 
      </td>
    </tr>

  </table>
</div>      <div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#what-is-sphinx-sphinx" id="id3">What is <code>Sphinx</code> / 什么是 <code>Sphinx</code></a></li>
<li><a class="reference internal" href="#how-to-install-sphinx" id="id4">How to install <code>Sphinx</code> / 怎么安装</a></li>
<li><a class="reference internal" href="#best-practice" id="id5">Best Practice / 最佳实践</a></li>
<li><a class="reference internal" href="#rst-language-rst" id="id6">RST Language / RST 语言简介</a><ul>
<li><a class="reference internal" href="#section" id="id7">Section / 章节</a></li>
<li><a class="reference internal" href="#words-style" id="id8">Words Style / 样式</a></li>
<li><a class="reference internal" href="#list" id="id9">List / 清单</a></li>
<li><a class="reference internal" href="#reference-link" id="id10">Reference Link / 参考链接</a></li>
<li><a class="reference internal" href="#codes" id="id11">Codes / 代码段</a></li>
<li><a class="reference internal" href="#pictures" id="id12">Pictures / 图片</a></li>
<li><a class="reference internal" href="#tables" id="id13">Tables / 表格</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="what-is-sphinx-sphinx">
<span id="id1"></span><h2>1. <a class="toc-backref" href="#id3">What is <code>Sphinx</code> / 什么是 <code>Sphinx</code></a></h2>
<p>Reference : <a class="reference external" href="http://www.sphinx-doc.org/en/stable/">Official Page</a></p>
<p>Sphinx is a tool that makes it easy to create intelligent and beautiful documentation.</p>
<p>Sphinx 可以让你轻松地创建只能而漂亮的文档。</p>
</div>
<div class="section" id="how-to-install-sphinx">
<h2>2. <a class="toc-backref" href="#id4">How to install <code>Sphinx</code> / 怎么安装</a></h2>
<p>Prerequisite / 前提:</p>
<ul class="simple">
<li>Python</li>
<li>Pip</li>
</ul>
<p>Open cmd and execute:  / 打开命令行执行：
<code>pip install sphinx</code></p>
<p>Usually, most people use a theme named <code>rtd</code> , so install this theme: / 我们通常看到的主题的名字叫 <code>rtd</code> ，可以这样安装：</p>
<p><code>pip install sphinx_rtd_theme</code></p>
<p>Create a folder, then run command: / 新建文件夹 并且运行命令：</p>
<p><code>sphinx-quickstart</code> 。</p>
<p>After input some essential information, <code>sphinx</code> has created some files.</p>
<p>再输入一些必要的信息之后， <code>sphinx</code> 以及自动的为你创建了一些文件。</p>
<div class="figure">
<img alt="" src="/images/tools/sphinx_02.png" />
</div>
<div class="highlight"><pre><span></span>Sphinx
├── _build          <span class="c1"># output</span>
├── _static         <span class="c1"># resource, like pictures and files</span>
├── _templates      <span class="c1"># ignore</span>
├── conf.py         <span class="c1"># Sphinx configuration file</span>
├── index.rst       <span class="c1"># entry</span>
├── make.bat        <span class="c1"># Window make file</span>
├── Makefile        <span class="c1"># Linux make file</span>
</pre></div>
<p><code>index.rst</code> is the entry file, <code>sphinx</code> will use this file and include other files mentioned in it.</p>
<p><code>index.rst</code> 是主入口文件，<code>sphinx</code> 创建的 文档会包含其中的所有的其他链接文件。</p>
<p>Modify the configuration file <code>conf.py</code> / 修改配置文件：</p>
<div class="highlight"><pre><span></span><span class="c1"># sys.path.insert(0, os.path.abspath(&#39;.&#39;))</span>
import sphinx_rtd_theme

<span class="c1"># html_theme = &#39;alabaster&#39;</span>
<span class="nv">html_theme</span> <span class="o">=</span> <span class="s1">&#39;sphinx_rtd_theme&#39;</span>
</pre></div>
<p>Now run <code>.\make.bat html</code> , it will automatically turn <code>rst</code> into <code>html</code> .</p>
<p>现在，可以运行 <code>.\make.bat html</code> ，这将会自动的将 <code>rst</code> 转换为 <code>html</code> 文件。</p>
<div class="highlight"><pre><span></span>Sphinx
├── _build
│   ├── html
│   │    ├── index.html <span class="o">(</span>Open this<span class="o">)</span>
├── _static
├── _templates
├── conf.py
├── index.rst
├── make.bat
├── Makefile
</pre></div>
<div class="figure">
<img alt="" src="/images/tools/sphinx_03.png" />
</div>
</div>
<div class="section" id="best-practice">
<h2>3. <a class="toc-backref" href="#id5">Best Practice / 最佳实践</a></h2>
<p>No matter we use <code>Sphinx</code> for personal documents or for team projects documents, there will be a lot of documents. So, how to organize them?</p>
<p>无论是用 <code>Sphinx</code> 来记录个人文档 还是 团队文档，毫无疑问都会慢慢积累大量的文档，所以，如何去组织他们呢？</p>
<ul class="simple">
<li>Create a folder named <code>_content</code> for original documents, and include them in the main entry file <code>index.rst</code> .</li>
</ul>
<p>创建一个文件夹，叫 <code>_content</code> 来存放原始的 rst 文件，并且 将需要的文档包括进 <code>index.rst</code> 。</p>
<p>The content of <code>index.rst</code> .</p>
<div class="highlight"><pre><span></span>Welcome to my documentation!
<span class="o">==============================</span>

.. toctree::
:maxdepth: 2
       :caption: Contents:

       ./_content/content_one.rst
       ./_content/content_two.rst
</pre></div>
<p>The content of <code>content_one.rst</code> / <code>content_one.rst</code> 的内容：</p>
<div class="highlight"><pre><span></span>Sphinx Content one
<span class="c1">##################</span>

RST Language one
^^^^^^^^^^^^^^^^

Header Sample One
*****************
</pre></div>
<p>Compile and open in chrome: / 编译并且在 浏览器中打开：</p>
<div class="figure">
<img alt="" src="/images/tools/sphinx_04.png" />
</div>
<p>If we need numbers, add <code>:numbered:</code> in <code>index.rst</code> .
如果我们需要序号的话，可以加上 <code>:numbered:</code>  标志。</p>
<div class="highlight"><pre><span></span>.. toctree::
   :maxdepth: 2
   :numbered:
   :caption: Contents:
</pre></div>
<p>Compile and open in chrome。 / 编译再次在浏览器中打开即可。</p>
<ul class="simple">
<li>Multi Projects / 多个工程</li>
</ul>
<p>If we have two or projects, then how to organize?</p>
<p>如果我们有多个工程的话，那么怎么组织文件结构呢？</p>
<div class="highlight"><pre><span></span>index.rst
content/
├── Node
│   ├── NodeIndex.rst
│   └── Node_Scheduler.rst
├── Tools
│   ├── ToolIndex.rst
│   ├── Tools_DiskMount.rst
│   ├── Tools_LocalYumRepo.rst
│   └── Tools_PDFToWord.rst
└── images
    └── tools
        ├── local_repo_01.png
        ├── local_repo_02.png
        ├── mount_disk_01.png
        └── pdf_to_word_01.png
</pre></div>
<p>The content of <code>index.rst</code> .</p>
<div class="highlight"><pre><span></span>Welcome to my documentation!
<span class="o">==============================</span>

.. toctree::
:maxdepth: 2
       :caption: Contents:

       ./_content/Tools/ToolsIndex.rst
       ./_content/Node/NodeIndex.rst
</pre></div>
<p>The content of <code>ToolsIndex.rst</code> :</p>
<div class="highlight"><pre><span></span>Project <span class="nv">Tools</span>
<span class="o">==============</span>

.. toctree::
:maxdepth: 2
       :caption: Contents:

       ./Tools_DiskMount.rst
       ./Tools_LocalYumRepo.rst
       ./Tools_PDFToWord.rst
</pre></div>
<p>In this way, every folder can become a project and the main entry <code>index.rst</code> doesn't need to care about the structure of sub directory..</p>
<p>这样的结构， 每一个文件夹就是一个工程，并且 顶层 不需要关心 子目录的结构。</p>
</div>
<div class="section" id="rst-language-rst">
<h2>4. <a class="toc-backref" href="#id6">RST Language / RST 语言简介</a></h2>
<p>Reference : <a class="reference external" href="http://www.sphinx-doc.org/en/stable/rest.html#internal-links">RST reference</a></p>
<div class="section" id="section">
<h3>4.1. <a class="toc-backref" href="#id7">Section / 章节</a></h3>
<div class="highlight"><pre><span></span><span class="c1"># Header</span>
Sphinx Introduction
<span class="c1">###################</span>

<span class="c1"># Sub Header</span>
RST Language
^^^^^^^^^^^^

<span class="c1"># Small Header</span>
Header Sample
*************
</pre></div>
<p>Although official suggestion is the following, but use the previous one, it is compatible with many platforms.</p>
<p>虽然官方推荐是以下的标志，但是还是推荐上面的格式，因为兼容性更好。</p>
<div class="highlight"><pre><span></span><span class="c1"># with overline, for parts</span>
* with overline, <span class="k">for</span> <span class="nv">chapters</span>
<span class="o">=</span>, <span class="k">for</span> sections
-, <span class="k">for</span> subsections
^, <span class="k">for</span> subsubsections
<span class="s2">&quot;, for paragraphs</span>
</pre></div>
</div>
<div class="section" id="words-style">
<h3>4.2. <a class="toc-backref" href="#id8">Words Style / 样式</a></h3>
<ul class="simple">
<li>emphasis – alternate spelling for <em>emphasis</em></li>
<li>strong – alternate spelling for <strong>strong</strong></li>
<li>literal – alternate spelling for <tt class="docutils literal">literal</tt></li>
<li>subscript – subscript text</li>
<li>superscript – superscript text</li>
<li>title-reference – for titles of books, periodicals, and other materials</li>
</ul>
<div class="highlight"><pre><span></span>*emphasis* , **strong**,  <span class="sb">``</span>literal<span class="sb">``</span>
</pre></div>
<p>Sample / 示例 :</p>
<blockquote>
<em>emphasis</em> , <strong>strong</strong>,  <tt class="docutils literal">literal</tt></blockquote>
</div>
<div class="section" id="list">
<h3>4.3. <a class="toc-backref" href="#id9">List / 清单</a></h3>
<blockquote>
<div class="highlight"><pre><span></span>* This is a bulleted list.
* It has two items, the second
  item uses two lines.

1. This is a numbered list.
2. It has two items too.

<span class="c1">#. This is a numbered list.</span>
<span class="c1">#. It has two items too.</span>
</pre></div>
</blockquote>
<p>Sample / 示例:</p>
<blockquote>
<ul class="simple">
<li>This is a bulleted list.</li>
<li>It has two items, the second
item uses two lines.</li>
</ul>
<ol class="arabic simple">
<li>This is a numbered list.</li>
<li>It has two items too.</li>
<li>This is a numbered list.</li>
<li>It has two items too.</li>
</ol>
</blockquote>
</div>
<div class="section" id="reference-link">
<h3>4.4. <a class="toc-backref" href="#id10">Reference Link / 参考链接</a></h3>
<ul id="sphinx-external">
<li><p class="first">External Link / 外部链接</p>
<blockquote>
<div class="highlight"><pre><span></span><span class="sb">`</span>Official Page &lt;http://www.sphinx-doc.org/en/stable/&gt;<span class="sb">`</span>_
</pre></div>
<p>Sample / 样例:</p>
<blockquote>
<p><a class="reference external" href="http://www.sphinx-doc.org/en/stable/">Official Page</a></p>
</blockquote>
</blockquote>
</li>
<li><p class="first">Internal Link / 内部链接</p>
<blockquote>
<p>Add a link flag in document. / 在文档中添加一个连接标志</p>
<div class="highlight"><pre><span></span>.. _sphinx-external:

- External Link
</pre></div>
<p>To use this link: / 使用它：</p>
<div class="highlight"><pre><span></span>:ref:<span class="sb">`</span>Go to External &lt;sphinx-external&gt;<span class="sb">`</span>
</pre></div>
<p>Sample / 示例(Fail in pelican)</p>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="codes">
<h3>4.5. <a class="toc-backref" href="#id11">Codes / 代码段</a></h3>
<ul>
<li><p class="first">Simple Code / 示例代码</p>
<blockquote>
<div class="highlight"><pre><span></span>This is an introduction to :code:<span class="sb">`</span>Sphinx<span class="sb">`</span>
</pre></div>
<dl class="docutils">
<dt>Sample / 示例:</dt>
<dd><p class="first last">This is an introduction to <code>Sphinx</code></p>
</dd>
</dl>
</blockquote>
</li>
<li><p class="first">Doc tree / 文档树</p>
<blockquote>
<div class="highlight"><pre><span></span>.. code-block:: bash

    storage_env
    ├── config
    ├── storage
    │   ├── provision  <span class="o">(</span>provision core codes<span class="o">)</span>
    │   │    ├── salesforce_provision.py
    │   │    ├── salesforce_sandbox_provision.py
    │   │    ├── salesforce_production_provision.py
    │   │    └── salesforce_utils
</pre></div>
<p>Sample / 示例:</p>
<div class="highlight"><pre><span></span>storage_env
├── config
├── storage
│   ├── provision  <span class="o">(</span>provision core codes<span class="o">)</span>
│   │    ├── salesforce_provision.py
│   │    ├── salesforce_sandbox_provision.py
│   │    ├── salesforce_production_provision.py
│   │    └── salesforce_utils
</pre></div>
</blockquote>
</li>
<li><p class="first">Javascript / JS 代码</p>
<blockquote>
<div class="highlight"><pre><span></span>.. code-block:: javascript

    console.log<span class="o">(</span><span class="s2">&quot;Sphinx&quot;</span><span class="o">)</span><span class="p">;</span>
</pre></div>
<p>Sample / 示例:</p>
<div class="highlight"><pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Sphinx&quot;</span><span class="p">);</span>
</pre></div>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="pictures">
<h3>4.6. <a class="toc-backref" href="#id12">Pictures / 图片</a></h3>
<div class="highlight"><pre><span></span>.. figure::  /images/tools/sphinx_01.png
</pre></div>
<p>Sample / 示例:</p>
<blockquote>
<div class="figure">
<img alt="" src="/images/tools/sphinx_01.png" />
</div>
</blockquote>
</div>
<div class="section" id="tables">
<h3>4.7. <a class="toc-backref" href="#id13">Tables / 表格</a></h3>
<div class="highlight"><pre><span></span>.. list-table::
    :widths: <span class="m">25</span> <span class="m">25</span> 50
    :header-rows: 1

    * - Heading row 1, column 1
      - Heading row 1, column 2
      - Heading row 1, column 3
    * - Row 1, column 1
      -
      - Row 1, column 3
    * - Row 2, column 1
      - Row 2, column 2
      - Row 2, column 3
</pre></div>
<ul class="simple">
<li>Sample / 示例</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Heading row 1, column 1</th>
<th class="head">Heading row 1, column 2</th>
<th class="head">Heading row 1, column 3</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Row 1, column 1</td>
<td>&nbsp;</td>
<td>Row 1, column 3</td>
</tr>
<tr><td>Row 2, column 1</td>
<td>Row 2, column 2</td>
<td>Row 2, column 3</td>
</tr>
</tbody>
</table>
<p>Enjoy!</p>
</div>
</div>

    </div><!-- /.entry-content -->

    
    <div class="comments">
      <br />
      <br />
      <hr />
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'brianshen1990';
        var disqus_identifier = 'Sphinx_And_RST.html';
        var disqus_url = 'https://brianshen1990.github.io/Sphinx_And_RST.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//brianshen1990.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
    </div>
    <div class="_right">
<div> 
<div class="_sideAboutme">
    <h2 class="_breif">About the blog</h2>
    <p>Some notes at work and life to share</p>
    <div>
        <img src="/images/logo/logo.svg"">
        <p>Brian Shen</p>
    </div>
  </div><div class="_sideCategories _sideBar">
  <h2 class="_breif">Categories</h2>
  <ol>
      <li>
        <a href="https://brianshen1990.github.io/category/security.html">Security </a><span>9</span>
      </li>
      <li class="active">
        <a href="https://brianshen1990.github.io/category/tools.html">Tools </a><span>9</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/category/node.html">Node </a><span>7</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/category/web.html">Web </a><span>7</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/category/python.html">Python </a><span>1</span>
      </li>
  </ol>

</div><div class="_sideTags _sideBar">
  <h2 class="_breif">Tags</h2>
  <ol>
      <li>
        <a href="https://brianshen1990.github.io/tag/web.html">Web </a><span>11</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/node.html">Node </a><span>10</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/web-security.html">Web Security </a><span>9</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/security.html">Security </a><span>9</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/linux.html">Linux </a><span>5</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/centos7.html">CentOS7 </a><span>3</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/react.html">React </a><span>3</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/reflux.html">Reflux </a><span>3</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/store.html">Store </a><span>3</span>
      </li>
      <li>
        <a href="https://brianshen1990.github.io/tag/https.html">Https </a><span>2</span>
      </li>
  </ol>

</div></div>
    </div>
  </div>
  <footer class="_footer">
    <div>
      <p>Powered by <a href="http://getpelican.com/">Pelican</a></p>
    </div>
  </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-107750695-1', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>