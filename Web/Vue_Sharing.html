

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Vue Sharing / Vue 框架分享 &mdash; KNWON Blog documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="KNWON Blog documentation" href="../index.html"/>
        <link rel="up" title="Web" href="Web.html"/>
        <link rel="next" title="Node" href="../Node/Node.html"/>
        <link rel="prev" title="React Sharing / React 框架分享" href="React_Sharing.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> KNWON
          

          
          </a>

          
            
            
              <div class="version">
                Blog
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools/Tools.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Web.html">Web</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Web_Sharing.html">Web Frameworks Sharing / Web框架分享</a></li>
<li class="toctree-l2"><a class="reference internal" href="React_Sharing.html">React Sharing / React 框架分享</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Vue Sharing / Vue 框架分享</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#intro">Intro</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dev-environment-establish">Dev Environment Establish / 开发环境搭建</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-components">Basic Components / 基础组件</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test">Test / 测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#l10n">L10N / 本地化</a></li>
<li class="toctree-l3"><a class="reference internal" href="#router-conception-and-router-implementation">Router Conception and Router Implementation / 路由概念和实现</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debug-and-deploy">Debug And Deploy / 调试和部署</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Node/Node.html">Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Python/Python.html">Python</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">KNWON</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="Web.html">Web</a> &raquo;</li>
      
    <li>Vue Sharing / Vue 框架分享</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Web/Vue_Sharing.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vue-sharing-vue">
<h1><a class="toc-backref" href="#id1">Vue Sharing / Vue 框架分享</a><a class="headerlink" href="#vue-sharing-vue" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">date:</th><td class="field-body">2018-09-19</td>
</tr>
<tr class="field-even field"><th class="field-name">tags:</th><td class="field-body">React, Store, Reflux, Node</td>
</tr>
<tr class="field-odd field"><th class="field-name">category:</th><td class="field-body">Web</td>
</tr>
<tr class="field-even field"><th class="field-name">slug:</th><td class="field-body">Vue_Sharing</td>
</tr>
<tr class="field-odd field"><th class="field-name">author:</th><td class="field-body">Brian Shen</td>
</tr>
<tr class="field-even field"><th class="field-name">summary:</th><td class="field-body">Vue Sharing</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#vue-sharing-vue" id="id1">Vue Sharing / Vue 框架分享</a><ul>
<li><a class="reference internal" href="#intro" id="id2">Intro</a></li>
<li><a class="reference internal" href="#dev-environment-establish" id="id3">Dev Environment Establish / 开发环境搭建</a></li>
<li><a class="reference internal" href="#basic-components" id="id4">Basic Components / 基础组件</a></li>
<li><a class="reference internal" href="#test" id="id5">Test / 测试</a></li>
<li><a class="reference internal" href="#l10n" id="id6">L10N / 本地化</a></li>
<li><a class="reference internal" href="#router-conception-and-router-implementation" id="id7">Router Conception and Router Implementation / 路由概念和实现</a></li>
<li><a class="reference internal" href="#debug-and-deploy" id="id8">Debug And Deploy / 调试和部署</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="intro">
<h2><a class="toc-backref" href="#id2">Intro</a><a class="headerlink" href="#intro" title="Permalink to this headline">¶</a></h2>
<p>Amazing compatibility. / 无限的融合和兼容</p>
<blockquote>
<div><ul>
<li><p class="first">Upgrade =&gt; React Components</p>
<blockquote>
<div><p>向上可以到达React 模式
React + Reflux =&gt; Vuejs + Vuex</p>
</div></blockquote>
</li>
<li><p class="first">Downgrade =&gt;</p>
<blockquote>
<div><p>向下可以到达 AngularJS 声明式 和 双向绑定</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dev-environment-establish">
<span id="vue-sharing-rst"></span><h2><a class="toc-backref" href="#id3">Dev Environment Establish / 开发环境搭建</a><a class="headerlink" href="#dev-environment-establish" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Install / 安装:</li>
</ul>
<p>Download Node from <a class="reference external" href="https://nodejs.org/en/">https://nodejs.org/en/</a> and install.</p>
<p>下载 Node 并且安装。</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>npm install -g @vue/cli
vue create hello-world
npm run serve
</pre></div>
</div>
<p>let&#8217;s have a look at what files have been generated / 看一下Vue 脚手架程序自动生成的目录:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./
├── README.md
├── babel.config.js <span class="o">(</span>ES6 解析<span class="o">)</span>
├── node_modules  <span class="o">(</span>库<span class="o">)</span>
├── package-lock.json
├── package.json  <span class="o">(</span>依赖声明和脚本<span class="o">)</span>
├── public   <span class="o">(</span>静态库<span class="o">)</span>
    ├── favicon.ico
    └── index.html
└── src  <span class="o">(</span>代码<span class="o">)</span>
    ├── App.vue  <span class="o">(</span>默认App<span class="o">)</span>
    ├── assets   <span class="o">(</span>使用文件<span class="o">)</span>
    │   └── logo.png
    ├── components <span class="o">(</span>组件<span class="o">)</span>
    │   └── HelloWorld.vue
    └── main.js <span class="o">(</span>主入口<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="basic-components">
<h2><a class="toc-backref" href="#id4">Basic Components / 基础组件</a><a class="headerlink" href="#basic-components" title="Permalink to this headline">¶</a></h2>
<p>SubAV: Most code is copied from bootstrapVue.  /大部分的代码拷贝自 bootstrapVue .</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div&gt;
    &lt;b-form-checkbox <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;checkbox1&quot;</span>
                        v-model<span class="o">=</span><span class="s2">&quot;status&quot;</span>
                        <span class="nv">value</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
                        unchecked-value<span class="o">=</span><span class="s2">&quot;false&quot;</span>&gt;
        防恶意软件安全措施
        &lt;/b-form-checkbox&gt;
            &lt;b-card&gt;
            &lt;h5 <span class="nv">slot</span><span class="o">=</span><span class="s2">&quot;header&quot;</span> v-b-toggle.collapse1&gt;高级威胁扫描&lt;/h5&gt;
            &lt;b-collapse <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;collapse1&quot;</span> visible&gt;
            &lt;b-form-checkbox <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;checkbox2&quot;</span>
                        v-model<span class="o">=</span><span class="s2">&quot;status2&quot;</span>
                        <span class="nv">value</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
                        unchecked-value<span class="o">=</span><span class="s2">&quot;false&quot;</span>&gt;
                启用高级威胁扫描引擎
            &lt;/b-form-checkbox&gt;
            &lt;br /&gt;
            &lt;b-form-checkbox <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;checkbox3&quot;</span>
                        v-model<span class="o">=</span><span class="s2">&quot;status3&quot;</span>
                        <span class="nv">value</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
                        unchecked-value<span class="o">=</span><span class="s2">&quot;false&quot;</span>&gt;
                集成深度威胁发现设备 TDA 拒绝列表
            &lt;/b-form-checkbox&gt;
            &lt;/b-collapse&gt;
        &lt;/b-card&gt;
        &lt;b-card &gt;
        &lt;h5 <span class="nv">slot</span><span class="o">=</span><span class="s2">&quot;header&quot;</span> v-b-toggle.collapse2&gt;防恶意软件&lt;/h5&gt;
            &lt;b-collapse <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;collapse2&quot;</span>&gt;
            &lt;p <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span>&gt;Header and footers using props.&lt;/p&gt;
            &lt;/b-collapse&gt;
        &lt;/b-card&gt;
        &lt;b-card &gt;
            &lt;h5 <span class="nv">slot</span><span class="o">=</span><span class="s2">&quot;header&quot;</span> v-b-toggle.collapse3&gt;扫描优化&lt;/h5&gt;
            &lt;b-collapse <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;collapse3&quot;</span>&gt;
            &lt;p <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span>&gt;Header and footers using props.&lt;/p&gt;
            &lt;/b-collapse&gt;
        &lt;/b-card&gt;
        &lt;b-card&gt;
            &lt;h5 <span class="nv">slot</span><span class="o">=</span><span class="s2">&quot;header&quot;</span> v-b-toggle.collapse4&gt;防恶意软件设置&lt;/h5&gt;
            &lt;b-collapse <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;collapse4&quot;</span>&gt;
            &lt;p <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;card-text&quot;</span>&gt;Header and footers using props.&lt;/p&gt;
            &lt;/b-collapse&gt;
        &lt;/b-card&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
<span class="nb">export</span> default <span class="o">{</span>
    name: <span class="s1">&#39;SubAV&#39;</span>,
    data <span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">{</span>
            status: <span class="s1">&#39;false&#39;</span>,
            status2: <span class="s1">&#39;false&#39;</span>,
            status3: <span class="s1">&#39;false&#39;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
&lt;/script&gt;
</pre></div>
</div>
<p>Use it / 组件定义好后可以被引用，就像一个模块一样:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div&gt;
        &lt;b-tabs&gt;
        &lt;b-tab title=&quot;入侵防御及虚拟补丁&quot; active&gt;
            &lt;br&gt;I&#39;m the first fading tab
        &lt;/b-tab&gt;
        &lt;b-tab title=&quot;防恶意软件&quot; &gt;
            &lt;br&gt; &lt;subAV&gt;&lt;/subAV&gt;
        &lt;/b-tab&gt;
        &lt;b-tab title=&quot;反垃圾邮件&quot; &gt;
            &lt;br&gt;I&#39;m the second tab content
        &lt;/b-tab&gt;
        &lt;b-tab title=&quot;Web信誉服务&quot; &gt;
            &lt;br&gt;I&#39;m the second tab content
        &lt;/b-tab&gt;
        &lt;/b-tabs&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    import SubAV from &#39;./SubAV.vue&#39;
    export default {
        name: &#39;ComponentSample&#39;,
        components: {
            &#39;subAV&#39;: SubAV,
        }
    }
&lt;/script&gt;
</pre></div>
</div>
<div class="figure">
<img alt="../_images/vue_sharing_0004.png" src="../_images/vue_sharing_0004.png" />
</div>
<p>Add some CSS / 添加CSS :</p>
<div class="figure">
<img alt="../_images/vue_sharing_0005.png" src="../_images/vue_sharing_0005.png" />
</div>
</div>
<div class="section" id="test">
<h2><a class="toc-backref" href="#id5">Test / 测试</a><a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h2>
<p>Install:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>vue add @vue/unit-mocha
npm install moxios --save-dev
</pre></div>
</div>
<p>Component / 看一下组件代码:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div&gt;
        RestSample
        &lt;p&gt;Following info are from remote:&lt;/p&gt;
        &lt;ul&gt;
            &lt;li v-for<span class="o">=</span><span class="s2">&quot;(item, index) in items&quot;</span> :key<span class="o">=</span><span class="s2">&quot;index&quot;</span>&gt;
                <span class="o">{{</span> item <span class="o">}}</span>
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    import axios from <span class="s1">&#39;axios&#39;</span><span class="p">;</span>
    <span class="nb">export</span> default <span class="o">{</span>
        data<span class="o">(){</span>
            <span class="k">return</span> <span class="o">{</span>
            items: <span class="o">[]</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        mounted: <span class="k">function</span><span class="o">(){</span>
            const <span class="nv">_that</span> <span class="o">=</span> this<span class="p">;</span>
            axios.get<span class="o">(</span><span class="s1">&#39;http://localhost:3001/rest/de_members&#39;</span><span class="o">)</span>
            .then<span class="o">(</span><span class="k">function</span> <span class="o">(</span>response<span class="o">)</span> <span class="o">{</span>
                // handle success
                // console.log<span class="o">(</span>response<span class="o">)</span><span class="p">;</span>
                _that.items <span class="o">=</span> response.data<span class="p">;</span>
            <span class="o">})</span>
            .catch<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
                // handle error
                //console.log<span class="o">(</span>error<span class="o">)</span><span class="p">;</span>
            <span class="o">})</span>
        <span class="o">}</span>,
        methods:<span class="o">{</span>

        <span class="o">}</span>,
        name: <span class="s1">&#39;RestSample&#39;</span>
    <span class="o">}</span>
&lt;/script&gt;
</pre></div>
</div>
<div class="figure">
<img alt="../_images/Vue_Lifecycle.png" src="../_images/Vue_Lifecycle.png" />
</div>
<p>Test / 看一下如何测试:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>import Vue from <span class="s1">&#39;vue&#39;</span>
import <span class="o">{</span> expect <span class="o">}</span> from <span class="s1">&#39;chai&#39;</span>
import <span class="o">{</span> shallowMount <span class="o">}</span> from <span class="s1">&#39;@vue/test-utils&#39;</span>
import Dashboard from <span class="s1">&#39;@/components/Dashboard.vue&#39;</span>
import RestSample from <span class="s1">&#39;@/components/RestSample.vue&#39;</span>
import moxios from <span class="s1">&#39;moxios&#39;</span>

describe<span class="o">(</span><span class="s1">&#39;Dashboard.vue&#39;</span>, <span class="o">()</span> <span class="o">=</span>&gt; <span class="o">{</span>
    it<span class="o">(</span><span class="s1">&#39;renders&#39;</span>, <span class="o">()</span> <span class="o">=</span>&gt; <span class="o">{</span>
        const <span class="nv">msg</span> <span class="o">=</span> <span class="s1">&#39;Dashboard&#39;</span>
        const <span class="nv">wrapper</span> <span class="o">=</span> shallowMount<span class="o">(</span>Dashboard<span class="o">)</span>
        expect<span class="o">(</span>wrapper.text<span class="o">())</span>.to.include<span class="o">(</span>msg<span class="o">)</span>
    <span class="o">})</span>
<span class="o">})</span>

describe<span class="o">(</span><span class="s1">&#39;RestSample Static&#39;</span>, <span class="o">()</span> <span class="o">=</span>&gt; <span class="o">{</span>
    it<span class="o">(</span><span class="s1">&#39;has a mounted hook&#39;</span>, <span class="o">()</span> <span class="o">=</span>&gt; <span class="o">{</span>
        expect<span class="o">(</span>typeof RestSample.mounted<span class="o">)</span>.to.eq<span class="o">(</span><span class="s1">&#39;function&#39;</span><span class="o">)</span>
    <span class="o">})</span>
    it<span class="o">(</span><span class="s1">&#39;sets the correct default data&#39;</span>, <span class="o">()</span> <span class="o">=</span>&gt; <span class="o">{</span>
        expect<span class="o">(</span>typeof RestSample.data<span class="o">)</span>.to.eq<span class="o">(</span><span class="s1">&#39;function&#39;</span><span class="o">)</span>
        const <span class="nv">defaultData</span> <span class="o">=</span> RestSample.data<span class="o">()</span>
        expect<span class="o">(</span>defaultData.items.length<span class="o">)</span>.to.eq<span class="o">(</span>0<span class="o">)</span>
    <span class="o">})</span>
<span class="o">})</span>

describe<span class="o">(</span><span class="s1">&#39;RestSample Async&#39;</span>, <span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
    beforeEach<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
        // import and pass your custom axios instance to this method
        moxios.install<span class="o">()</span>
    <span class="o">})</span>
    afterEach<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
        // import and pass your custom axios instance to this method
        moxios.uninstall<span class="o">()</span>
    <span class="o">})</span>
    it<span class="o">(</span><span class="s1">&#39;Mounted Fetch, should fetch and render correctly&#39;</span>, <span class="o">(</span><span class="k">done</span><span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span>
        const <span class="nv">vm</span> <span class="o">=</span> new Vue<span class="o">(</span>RestSample<span class="o">)</span>.<span class="nv">$mount</span><span class="o">()</span>
        Vue.nextTick<span class="o">(()</span> <span class="o">=</span>&gt; <span class="o">{</span>
            moxios.wait<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
                <span class="nb">let</span> <span class="nv">request</span> <span class="o">=</span> moxios.requests.mostRecent<span class="o">()</span>
                request.respondWith<span class="o">({</span>
                    status: 200,
                    response: <span class="o">[</span> <span class="s2">&quot;Fred&quot;</span> ,<span class="s2">&quot;Ben&quot;</span> <span class="o">]</span>
                <span class="o">})</span>.then<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
                    expect<span class="o">(</span>vm.items<span class="o">)</span>.to.eql<span class="o">([</span> <span class="s2">&quot;Fred&quot;</span> ,<span class="s2">&quot;Ben&quot;</span> <span class="o">])</span>
                    expect<span class="o">(</span>vm.<span class="nv">$el</span>.textContent<span class="o">)</span>.to.include<span class="o">(</span><span class="s2">&quot;Ben&quot;</span><span class="o">)</span>
                    expect<span class="o">(</span>vm.<span class="nv">$el</span>.textContent<span class="o">)</span>.to.include<span class="o">(</span><span class="s2">&quot;Fred&quot;</span><span class="o">)</span>
                    //expect<span class="o">(</span>vm.<span class="nv">$el</span>.textContent<span class="o">)</span>.to.eq<span class="o">(</span>2<span class="o">)</span>
                    <span class="k">done</span><span class="o">()</span>
                <span class="o">})</span>
            <span class="o">})</span>
        <span class="o">})</span>
    <span class="o">})</span>
<span class="o">})</span><span class="p">;</span>
</pre></div>
</div>
<p>Results / 结果:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>WEBPACK  Compiled successfully in 3252ms
MOCHA  Testing...

Dashboard.vue
    ✓ renders <span class="o">(</span>42ms<span class="o">)</span>

RestSample Static
    ✓ has a mounted hook
    ✓ sets the correct default data

RestSample Async
    ✓ Mounted Fetch, should fetch and render correctly <span class="o">(</span>323ms<span class="o">)</span>

<span class="m">4</span> passing <span class="o">(</span>453ms<span class="o">)</span>

MOCHA  Tests completed successfully
</pre></div>
</div>
</div>
<div class="section" id="l10n">
<h2><a class="toc-backref" href="#id6">L10N / 本地化</a><a class="headerlink" href="#l10n" title="Permalink to this headline">¶</a></h2>
<p>Official Recommendation: <code class="code docutils literal"><span class="pre">Vue-i18n</span></code>  /  Vue 因为是新生产物，基本上每一个都有官方的库。推荐 <code class="code docutils literal"><span class="pre">Vue-i18n</span></code>  .</p>
<dl class="docutils">
<dt>Install / 安装:</dt>
<dd><code class="code docutils literal"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">vue-i18n</span></code></dd>
</dl>
<p>Load it and init it / 导入并且初始化:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>import Vue from <span class="s1">&#39;vue&#39;</span>
import App from <span class="s1">&#39;./App.vue&#39;</span>
import router from <span class="s2">&quot;./router.js&quot;</span>
import <span class="s1">&#39;bootstrap/dist/css/bootstrap.css&#39;</span>
import <span class="s1">&#39;bootstrap-vue/dist/bootstrap-vue.css&#39;</span>
import VueI18n from <span class="s1">&#39;vue-i18n&#39;</span>

Vue.use<span class="o">(</span>VueI18n<span class="o">)</span><span class="p">;</span>

const <span class="nv">messages</span> <span class="o">=</span> <span class="o">{</span>
    en: require<span class="o">(</span><span class="s2">&quot;./assets/l10n/l10n.en.json&quot;</span><span class="o">)</span>,
    zh: require<span class="o">(</span><span class="s2">&quot;./assets/l10n/l10n.zh.json&quot;</span><span class="o">)</span>
<span class="o">}</span>
const <span class="nv">i18n</span> <span class="o">=</span> new VueI18n<span class="o">({</span>
    locale: <span class="s1">&#39;zh&#39;</span>, // <span class="nb">set</span> locale
    messages, // <span class="nb">set</span> locale messages
<span class="o">})</span>

new Vue<span class="o">({</span>
    el: <span class="s1">&#39;#app&#39;</span>,
    router,
    i18n,
    render: <span class="nv">h</span> <span class="o">=</span>&gt; h<span class="o">(</span>App<span class="o">)</span>
<span class="o">})</span>
</pre></div>
</div>
<p>Use it / 使用:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div&gt;
        L10N Sample
        &lt;p&gt;l10n&lt;/p&gt;
        &lt;div&gt;
        &lt;p&gt;<span class="o">{{</span> <span class="nv">$t</span><span class="o">(</span><span class="s2">&quot;common.PRODUCT_NAME&quot;</span><span class="o">)</span> <span class="o">}}</span>&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    <span class="nb">export</span> default <span class="o">{</span>
        name: <span class="s1">&#39;L10NSample&#39;</span>
    <span class="o">}</span>
&lt;/script&gt;
</pre></div>
</div>
<div class="figure">
<img alt="../_images/vue_sharing_0003.png" src="../_images/vue_sharing_0003.png" />
</div>
</div>
<div class="section" id="router-conception-and-router-implementation">
<h2><a class="toc-backref" href="#id7">Router Conception and Router Implementation / 路由概念和实现</a><a class="headerlink" href="#router-conception-and-router-implementation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Install / 安装</li>
</ul>
<p>(<a class="reference external" href="https://bootstrap-vue.js.org/docs/components/navbar">https://bootstrap-vue.js.org/docs/components/navbar</a>)</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>npm install vue-router
npm i bootstrap-vue   <span class="o">[</span>For them 为了添加样式<span class="o">]</span>
</pre></div>
</div>
<p>Now let&#8217;s add some files to support router:</p>
<p>我们可以添加一些文件来支持路由:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>src/
├── App.vue
├── assets
│   └── logo.png
├── components
│   ├── About.vue
│   ├── Dashboard.vue   <span class="o">(</span>Add/添加<span class="o">)</span>
│   ├── Home.vue   <span class="o">(</span>Add/添加<span class="o">)</span>
│   └── RestSample.vue  <span class="o">(</span>Add/添加<span class="o">)</span>
├── main.js
└── router.js  <span class="o">(</span>Add/添加<span class="o">)</span>
</pre></div>
</div>
<p><code class="code docutils literal"><span class="pre">main.js</span></code> :  use App and Router / 加载App 和 路由</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>import Vue from <span class="s1">&#39;vue&#39;</span>
import App from <span class="s1">&#39;./App.vue&#39;</span>
import router from <span class="s2">&quot;./router.js&quot;</span>
import <span class="s1">&#39;bootstrap/dist/css/bootstrap.css&#39;</span>
import <span class="s1">&#39;bootstrap-vue/dist/bootstrap-vue.css&#39;</span>

new Vue<span class="o">({</span>
    el: <span class="s1">&#39;#app&#39;</span>,
    router,
    render: <span class="nv">h</span> <span class="o">=</span>&gt; h<span class="o">(</span>App<span class="o">)</span>
<span class="o">})</span>
</pre></div>
</div>
<p><code class="code docutils literal"><span class="pre">App.vue</span></code> : html (Most code is copied from BootstrapVue / 发部分的模板拷贝自 BootstrapVue)</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;app&quot;</span>&gt;
        &lt;b-navbar <span class="nv">toggleable</span><span class="o">=</span><span class="s2">&quot;md&quot;</span> <span class="nv">variant</span><span class="o">=</span><span class="s2">&quot;info&quot;</span>&gt;
        &lt;b-navbar-toggle <span class="nv">target</span><span class="o">=</span><span class="s2">&quot;nav_collapse&quot;</span>&gt;&lt;/b-navbar-toggle&gt;
        &lt;b-collapse is-nav <span class="nv">id</span><span class="o">=</span><span class="s2">&quot;nav_collapse&quot;</span>&gt;
            &lt;b-navbar-nav&gt;
            &lt;b-nav-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/dashboard&quot;</span>&gt;实时监控&lt;/router-link&gt;&lt;/b-nav-item&gt;
            &lt;b-nav-item-dropdown <span class="nv">text</span><span class="o">=</span><span class="s2">&quot;网络&quot;</span> left&gt;
                &lt;b-dropdown-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/rest&quot;</span>&gt;Sample Rest&lt;/router-link&gt;&lt;/b-dropdown-item&gt;
                &lt;b-dropdown-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/l10n&quot;</span>&gt;Sample L10N&lt;/router-link&gt;&lt;/b-dropdown-item&gt;
                &lt;b-dropdown-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/components&quot;</span>&gt;Sample Components&lt;/router-link&gt;&lt;/b-dropdown-item&gt;
            &lt;/b-nav-item-dropdown&gt;
            &lt;b-nav-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/policy&quot;</span>&gt;策略&lt;/router-link&gt;&lt;/b-nav-item&gt;
            &lt;b-nav-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/report&quot;</span>&gt;分析与报告&lt;/router-link&gt;&lt;/b-nav-item&gt;
            &lt;b-nav-item&gt;&lt;router-link <span class="nv">to</span><span class="o">=</span><span class="s2">&quot;/admin&quot;</span>&gt;管理&lt;/router-link&gt;&lt;/b-nav-item&gt;
            &lt;/b-navbar-nav&gt;
        &lt;/b-collapse&gt;
        &lt;/b-navbar&gt;
        &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    <span class="nb">export</span> default <span class="o">{</span>
    <span class="o">}</span>
&lt;/script&gt;
</pre></div>
</div>
<p><code class="code docutils literal"><span class="pre">router.js</span></code> : define routes / 定义路由</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>import Vue from <span class="s2">&quot;vue&quot;</span><span class="p">;</span>
import VueRouter from <span class="s2">&quot;vue-router&quot;</span><span class="p">;</span>
import BootstrapVue from <span class="s1">&#39;bootstrap-vue&#39;</span><span class="p">;</span>
import Dashboard from <span class="s1">&#39;./components/Dashboard.vue&#39;</span><span class="p">;</span>
import Home from <span class="s1">&#39;./components/Home.vue&#39;</span><span class="p">;</span>
import About from <span class="s1">&#39;./components/About.vue&#39;</span><span class="p">;</span>
import RestSample from <span class="s1">&#39;./components/RestSample.vue&#39;</span><span class="p">;</span>

Vue.use<span class="o">(</span>VueRouter<span class="o">)</span><span class="p">;</span>
Vue.use<span class="o">(</span>BootstrapVue<span class="o">)</span><span class="p">;</span>

const <span class="nv">routes</span> <span class="o">=</span> <span class="o">[</span>
    <span class="o">{</span> path:<span class="s2">&quot;/dashboard&quot;</span>, component: Dashboard <span class="o">}</span>,
    <span class="o">{</span> path:<span class="s2">&quot;/home&quot;</span>, component: Home <span class="o">}</span>,
    <span class="o">{</span> path:<span class="s2">&quot;/rest&quot;</span>, component: RestSample <span class="o">}</span>,
    <span class="o">{</span> path: <span class="s2">&quot;/about&quot;</span>, component: About<span class="o">}</span>
<span class="o">]</span><span class="p">;</span>
var <span class="nv">router</span> <span class="o">=</span>  new VueRouter<span class="o">({</span>
    routes
<span class="o">})</span>
<span class="nb">export</span> default router<span class="p">;</span>
</pre></div>
</div>
<p><code class="code docutils literal"><span class="pre">Dashboard.vue</span></code> :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div&gt;
        Dashboard
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    <span class="nb">export</span> default <span class="o">{</span>
        name: <span class="s1">&#39;Dashboard&#39;</span>
    <span class="o">}</span>
&lt;/script&gt;
</pre></div>
</div>
<p>Results: / 运行结果:</p>
<div class="figure">
<img alt="../_images/vue_sharing_0001.png" src="../_images/vue_sharing_0001.png" />
</div>
</div>
<div class="section" id="debug-and-deploy">
<h2><a class="toc-backref" href="#id8">Debug And Deploy / 调试和部署</a><a class="headerlink" href="#debug-and-deploy" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Debug / 调试</p>
<blockquote>
<div><p>For Restful API, install <code class="code docutils literal"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">axios</span></code> .</p>
<p>为了获取远端资源， 安装 <code class="code docutils literal"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">axios</span></code></p>
</div></blockquote>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<div class="line-block">
<div class="line">If you want to use console and debugger, in package.json:</div>
<div class="line">如果想使用  console 和 debugger， 请在  package.json里面添加:</div>
</div>
<div class="last highlight-bash"><div class="highlight"><pre><span></span><span class="s2">&quot;rules&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;comma-dangle&quot;</span>: 0,
    <span class="s2">&quot;no-console&quot;</span>: 0,
    <span class="s2">&quot;no-debugger&quot;</span>: 0
<span class="o">}</span>,
</pre></div>
</div>
</div>
<p>Use remote side API and local UI / 使用远端API 和 本地 UI:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&lt;template&gt;
    &lt;div&gt;
        RestSample
        &lt;p&gt;Following info are from remote:&lt;/p&gt;
        &lt;ul&gt;
        &lt;li v-for<span class="o">=</span><span class="s2">&quot;(item, index) in items&quot;</span> :key<span class="o">=</span><span class="s2">&quot;index&quot;</span>&gt;
            <span class="o">{{</span> item <span class="o">}}</span>
        &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    import axios from <span class="s1">&#39;axios&#39;</span><span class="p">;</span>
    <span class="nb">export</span> default <span class="o">{</span>
        data<span class="o">(){</span>
            <span class="k">return</span> <span class="o">{</span>
                items: <span class="o">[]</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        mounted: <span class="k">function</span><span class="o">(){</span>
            const <span class="nv">_that</span> <span class="o">=</span> this<span class="p">;</span>
            axios.get<span class="o">(</span><span class="s1">&#39;http://localhost:3001/rest/de_members&#39;</span><span class="o">)</span>
            .then<span class="o">(</span><span class="k">function</span> <span class="o">(</span>response<span class="o">)</span> <span class="o">{</span>
                // handle success
                console.log<span class="o">(</span>response<span class="o">)</span><span class="p">;</span>
                debugger<span class="p">;</span>
                _that.items <span class="o">=</span> response.data<span class="p">;</span>
            <span class="o">})</span>
            .catch<span class="o">(</span><span class="k">function</span> <span class="o">(</span>error<span class="o">)</span> <span class="o">{</span>
                // handle error
                console.log<span class="o">(</span>error<span class="o">)</span><span class="p">;</span>
            <span class="o">})</span>
        <span class="o">}</span>,
        name: <span class="s1">&#39;RestSample&#39;</span>
    <span class="o">}</span>
&lt;/script&gt;
</pre></div>
</div>
<ul class="simple">
<li>Deploy / 部署</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>npm run build
<span class="c1"># npm install -g serve</span>
serve -s dist

.. code-block:: bash

    ./dist/
    ├── css
    │   └── chunk-vendors.18ce9b24.css
    ├── favicon.ico
    ├── index.html
    └── js
        ├── app.2c52c92f.js
        ├── app.2c52c92f.js.map
        ├── chunk-vendors.9e2f9af0.js
        └── chunk-vendors.9e2f9af0.js.map

.. figure:: /images/web/vue_sharing_0002.png
</pre></div>
</div>
<p>Amazing easy! 是非常容易的， 因为直接可以测试变量.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Node/Node.html" class="btn btn-neutral float-right" title="Node" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="React_Sharing.html" class="btn btn-neutral" title="React Sharing / React 框架分享" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, BrianShen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'Blog',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>